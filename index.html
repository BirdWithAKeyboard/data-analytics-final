<!DOCTYPE html>
<html>
<head>
<title>Final Project - Data Analytics</title>
<style>
body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
.container {
    width:70%
}
.code {
    width: 80%;
    background-color: #151515;
    color: white;
    padding: 10px;
    border-radius: 10px;
    box-shadow: 0px 0px 5px #ddd;
}
img {
    max-width: 100%;
    max-height: 80vh;
}
</style>
</head>
<body>
<div class="container">
    <h1>Data Analytics Final Project</h1>
    <p>Here is my <a href="./Data analysis.pdf">Khan Academy data analysis unit essay</a></p>
    <h2>Dataset Information</h2>
    <p>I used the <a href="https://www.kaggle.com/datasets/thedevastator/spotify-tracks-genre-dataset/data">Spotify Tracks Genre database from Kaggle</a> to do my analysis. This dataset contains the track ID, artist name, album name, track name, popularity, track duration, if the track is explicit, danceability, energy, key, loudness, mode, if there are spoken words, acoustics, instrumentalness, liveness, valence, beats per minute, and time signature of 114000 songs. For my research, I wanted to see if a song's duration, genre, and tempo are correlated to a song's popularity.</p>
    <h2>Process of Analysis</h2>
    <p>I started my analysis by downloading the data set and using Python to read the CSV file. The Python code I created sorts each of the songs by its duration, genre, and tempo. It counts the frequency of songs with the same duration, genre, and tempo that have a popularity above 80%. I then used the <a href="https://matplotlib.org/3.5.3/api/_as_gen/matplotlib.pyplot.html">pyplot function of the matplotlib Python library</a> to create bar graphs of my results. I rounded the tempo to the nearest beat per minute and the duration to the nearest 10 seconds to generalize the data between songs.
    <br><br>
    Below is my Python program with comments highlighted in green explaining the function of each line of the code. You can access <a href="https://github.com/BirdWithAKeyboard/data-analytics-final/blob/main/graphing.py">the code from here</a> as well.  
    </p>
</div>

<div class="code"></div>

<div class="container">
    <h2>Analysis of Data</h2>
    <h3>Graph 1:</h3>
    <p>The first graph compares the frequency of songs with similar a tempo and popularity above 80%. The tempo is rounded to the nearest whole number to reduce the complexity of the dataset. The graph only shows the most frequent 100 tempos.</p>
</div>

<img src="./tempo.png">

<div class="container">
    <p>The graph shows that the most common tempo is 120 BPM with it occurring on 42 songs above 80% popularity. The top ten most common tempos are between 94 BPM and 130 BPM which is only a difference of 36 BPM. I believe that 120 BPM is the most popular tempo because it is the most commonly used, not because it has any correlation with the popularity of the song as 120 is twice the amount of seconds in a minute. I also believe that there is a correlation between the general higher tempos and the popularity of a song. By analyzing the entire graph, I conclude that songs using a tempo between 70 BPM and 130 BPM are more likely to succeed.</p>
    <br>
    <h3>Graph 2:</h3>
    <p>The second graph compares the frequency of songs with similar duration and popularity above 80%. The duration is rounded to the nearest 10 seconds to reduce the complexity of the dataset as in the original dataset it would be near impossible to match songs with the same millisecond duration.</p>
</div>

<img src="duration.png">

<div class="container">
    <p>The graph shows that 210 seconds is the most frequent duration with it occurring on 98 songs. The ten most common durations are between 160 and 250 seconds which is only a variation of 90 seconds. Based on the graph and the fact that every song above 80% popularity is within 10 seconds of only 29 different durations, I conclude that a song with a duration between 160 and 250 seconds or 2.7 and 4.2 minutes is more likely to become popular than a similar song with a longer or shorter duration. </p>
    <br>
    <h3>Graph 3:</h3>
    <p></p>
</div>

<script>
    function addcode(text) {
        for (let i = 0; i < text.split("\n").length; i++) { 
            var line = text.replaceAll("	", "    ").split("\n")[i];
            if (line[0] == (" ")) {
                if (line.trim()[0] == ("#")) {
                    line = '<span style="color: #00b500;">'+line+'</span>';
                }
                line = '<span style="margin-left:'+40*(line.split("    ").length-1)+'px;">'+line+'</span>';
            } else if (line.trim()[0] == ("#")) {
                line = '<span style="color: #00b500;">'+line+'</span>';
            }
            document.getElementsByClassName("code")[0].innerHTML += "<br>"+line;
        }
    }
    fetch("https://raw.githubusercontent.com/BirdWithAKeyboard/data-analytics-final/main/graphing.py")
        .then( r => r.text() )
        .then( t => addcode(t) );
</script>
</body>
</html>
